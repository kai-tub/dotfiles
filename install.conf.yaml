- clean:
    ~/.config:
        recursive: true
    ~/conda_envs:
        force: true
    ~/scripts:
        force: true

- defaults:
    link:
        create: true
        relink: true

- link:
    ~/.my_bashrc:
        path: my_bashrc
    ~/.gitconfig: gitconfig
    ~/.ssh/config:
        path: ssh/config
    ~/.config/fish/my_config.fish:
        path: fish/my_config.fish
    ~/.config/fish/functions/:
        glob: true
        path: fish/functions/*
    ~/.config/fish/completions/:
        glob: true
        path: fish/completions/*
    ~/.config/fish/conf.d/:
        glob: true
        path: fish/conf.d/*
    ~/scripts:
        glob: true
        path: scripts/*
    ~/.conda_envs:
        glob: true
        path: conda_envs/*
    ~/.jupyter/lab/user-settings:
        glob: true
        path: jupyter_lab_user_settings/

- shell:
    - git submodule sync --recursive
    - git submodule update --init --recursive
    - >
        git clean -f -x - d
        update-golang
    -
        command: python ~/scripts/append_to_shellfile.py
        stdout: true
        stderr: true
        description: "Appending to shellfile"
    -
        command: fish ~/scripts/install_cli_tools.fish # use -u to update
        stdout: true
        stderr: true
    -
        command: bash ~/scripts/miniconda_installer.sh
        stdin: true
        stderr: true
        description: "Installing miniconda if not present"
    -
        command: echo 'To update/install "golang" run "update-golang.sh" script with "sudo"'
        stdout: true
        quiet: true
        description: ""
